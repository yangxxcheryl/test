////////////////////////////////////////////////////////////////////////////////////////////////////////////
// EV1_OPEN		清洗液供给3号管道  即清洗池清洗
// EV1_CLOSE 	清洗液供给2号管道  即混匀池清洗
// EV2_OPEN		清洗液供给6号管道  即吸样针清洗
// EV2_CLOSE	清洗液供给EV1电磁阀  即默认清洗液连通EV1电磁阀
// EV3_OPEN		废液泵连接5号管道  即清洗池排废
// EV3_CLOSE	废液泵连接4号管道  即混匀池排废
////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 软件版本 5.0.0.9
// 修改串口0和上位机之间的通信，增加校验部分，不修改原有的通信
// 校验和不带校验都可以使用
// 不带校验的和原先一致，带校验的收到信息之后，核对校验码，核对通过之后回复ACK，不通过回复NAK
// 回复ACK之后，解析命令，并将原有命令和校验码一并回复

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-8-15  软件版本 5.0.0.10
// 在5.0.0.9的基础上，修改1：50倍稀释过程中的样本量，从20.4ul更改为24.5ul
// 同时稀释液量由1000ul更改为1200ul
// 1：50倍稀释和1：40倍稀释一样，不需要预混匀

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-8-16  软件版本 5.0.0.11
// 添加每次进片转盘先回零位
// 删除测试完成之后回零位动作

// 整合1.0.0.19和5.0.0.11 2016-08-16 pm 17：00

// 2016-08-17
// 将液路判断中为空或者有气泡，更改为不等于满   -》经测试无效果

// 2016-08-18  9.0.0.1
// 增加ADC10和ADC11分别采集上片和下片光耦信号,使用PCB板上的J9接线端子
// 更改AdcResult 为 AdcResult[3] 0 吸样针  1 上片   2  下片
// 增加NeedleChannel、LoadChannel和UnloadChannel 宏定义分别为0、1、2
// 将getLiqDetADC(void)函数更改为带一个形参函数getLiqDetADC(unsigned char num)
// 新增SetADChannel函数,用来切换采集通道
// 修改ADC中断函数
// 修改下片动作流程,通过读取下片光耦AD值来判断下片是否成功
// 修改进片动作流程,通过读取进片光耦AD值来判断进片位置是否有试剂片,如果有则重新计算进片位置
// 新增4075命令,读取上片光耦值
// 新增4076命令,读取下片光耦值

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-8-22  软件版本 9.0.0.2
// 在二次混匀前，增加1次清洗吸样针内壁操作  将 if(ucTmp < 1)  更改为  if(ucTmp < 2)
// 修改试剂片条码扫描逻辑  
// 1、 为保证位置统一，重复测试时采用进片小车定位，case 26，case 27

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-8-26  软件版本 9.0.0.3
// 新增SetCardScanfPos
// 新增GetCardScanfPos
// 新增CardScanfPosCheck
// 整合4.0.0.4 中关于抽打混匀高度的设置和调试  新增 #4017 和 #4037 

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-8-28  软件版本 9.0.0.4
// 下片检测到没有试剂片，先让转盘回零位，然后再转到下片位置，重新检测

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-8-28  软件版本 9.0.0.5
// 修改滴样高度调节量	#4004
// 修改混匀边缘调节量   #4002
// 增加3019的命令执行调节，必须在取片流程完成之后此命令才有效，否则报3120
// 测试过程中稀释液不足情况下，将InsertFlag置1

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-9-07  软件版本 9.0.0.6
// 滴样完成后,在稀释液和清洗液检查前,设置GetNewTestCard = 255,避免滴样之后报错，导致试剂片不推进转盘
// 转盘位置查找失败，添加5秒延时，避免失败提示信息无限发送
// 转盘查找函数，返回0xff的判断条件由if(i == 0)更改为if(i == 255)

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-9-12  软件版本 9.0.0.7
// 更改ADC通道切换函数
// 更改进片下片通道有无判断条件   有>900  无<500


////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-9-13  软件版本 9.0.0.8
// 屏蔽 if(InsertRingFlag == 0)		break;
// 更改3147 对测试编号的输出
// 将输出SecondCount的全部换成UartSendInt 避免SeoncdCount 大于30000+的时候出现负值
// 增加下片和进片光耦损坏下，进片动作
// 将输出testSerial的全部换成UartSendInt 避免testSerial 大于30000+的时候出现负值 
// 声明UartSendLong用预定义编译方式来选择是否需要开启UartSendInt的使用

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-9-18  软件版本 9.0.0.9
// 更改部分电机速度,更改部分延时时间,让测试时间进入50秒,更改部分添加了2016-09-18注释
// 测试结果，速度增加了1秒,不更改
// 然后在此基础上尝试解决通信乱码问题
// 所有if(checkFlag)之后，增加checkFlag = 0语句
// 发现有部分地方不能checkFlag = 0,已处理
// 2016-09-25
// 带校验的解析完后，直接packetstate = 0
// 收到数据通过校验后回复0x06,然后里面将收到的数据发出来,再进行命令解析
// 命令解析过程中,如果此时有命令接收,回复0X0E
// 命令解析完毕后,对比接收数据,如果不相同回复0x04

////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 2016-9-25  软件版本 9.0.0.10
// 更改协议
// 收到命令后 回复 ACK 然后里面回复收到的命令
// 等待上位机回复  如果回复ACK 说明命令有效，执行后面的动作,否则重新接收数据

// 2016-09-27 
// 更改3115  ReadBClose 上传SecondCount的方式

// 2016-10-09  在9.0.0.10.2版本基础上更改
// 将超时时间更改为400ms
// 增加等待ACK过程中，接收到非ACK命令处理
// 生效版本 1.0.0.2

// 2016-10-10
// 1.0.0.3
// 1、无论按键是否有效，都向上位机发送按钮信息
	  DiluteProcess.c 中增加 uart_Printf("%s\r\n",strM3101)
// 2、更改#3命令返回，将Free 状态返回条件 == 4 更改为 >= 2	  
// 3、超时处理命令没有\r\n

// 2016-10-14 在1.0.0.3 版本上更改
// 1、3935错误提示,增加显示当前的RingQueue.prevNum
// 2、增加静态局部变量FindNum,如果连续3次插入错误,当前插入位置设置为RingQueue.prevNum+1

// 2016-10-17 
// 1、#4029 和 #4030 完成时候排放废液更改 8000->3000,2000->3000

// 2016-10-22
// 稀释完成后，关闭稀释液检测

// 2016-10-25 
// 40倍和50倍稀释 中恢复预混匀步骤  
// 1:50倍稀释 吸样计算1188 更改为 923

// 2016-10-28
// 1:2稀释调节 
// 测试结果值偏低，改进方法
// 1、稀释液和样本混匀不充分,可以尝试加快稀释液注入速度
// 2、可以尝试进行吸样针抽打混匀
// 3、可以尝试进行稀释油泵电机正反转混匀
// 4、保证废液管道液体为空        

// 2016-10-31 
// 使用吸样针抽打混匀5次
// 将稀释液泵的速度从4加大至25
// 将1:2稀释滴样完成后，按1:1清洗模式走 清洗3次
// 改变稀释液供给 新增_NewDiluentMotRun函数 最小稀释液量为1   _DiluentMotRun函数，最小稀释液量为100
// 一次稀释过程中稀释液注入判断增加1:2稀释判断 采用_NewDiluentMotRun注入稀释液

// 2016-11-02
// 将稀释液量更改为85ul
// 3019 命令  片仓小车去条码扫描位置的速度降低 SetMotRunPam(MOT_STORE_CARD_MOVE,50,5,CURRENT_STORE_MOVE);
// 3019 命令  片仓小车去零位的速度提高 SetMotRunPam(MOT_STORE_CARD_MOVE,220,20,CURRENT_STORE_MOVE);

// 2016-11-03
// 进片和下片有无试剂片调整为900
// 采用宏定义#define  CardLocationAD		900	
// 将3019命令 取片小车去条码检测位置速度提升至SetMotRunPam(MOT_STORE_CARD_MOVE,240,20,CURRENT_STORE_MOVE);
// 3019命令，如果参数为0 返回当前设置值	
// 将PORTD_Bit7 定义为输出 同时每0.5s对PORTD_Bit7 端口取反

// 2016-11-07
// 3344 超时等待由400ms更改为1秒

// 2016-11-09
// 取样针下来的位置，往右边在偏移  #define _POS_SAMPTURN_SAMP			930 -> 980

// 2016-11-10
// 可以尝试使用清洗液泵反转抽取样本 做1:2稀释

// 2016-11-11
// 使用清洗液泵吸取样本
// 2016-11-11 将稀释液注入速度由8调整为50

// 2016-11-12
// 将FindNum 位置移动
// 将 CurInsertRingNum = RingQueue.prevNum + 1 更改为 CurInsertRingNum = RingQueue.prevNum++;
// 将1:3的稀释液量减少 从原来的2单位(200) 更改为 180

// 2016-11-15
// 1比4稀释调节
// 将稀释液注入速度从12调整为60

// 2016-11-17
// 一次混匀完毕后,会根据NewTestInfo.sampDiluteMult选择执行不同的动作,将if语句更改为switch语句

//========================可以尝试抽打混匀的方式更改为清洗液泵抽打混匀，可以大大的加快速度===========================

// 增加选择使用宏定义 _FluidPumMix 此定义未使用 采用微量注塞泵抽打混匀   使用之后采用清洗液泵抽打混匀

// 2016-11-18
// 修改条码扫描流程,去掉之前的试剂片前后动作，即 workStep = 26 更改为 workStep = 20
// 修改第二次条码扫描流程 由于现在的流程必定导致第二次扫描试剂片歪 所以去掉这部分动作  即将重复测试中 workStep= 26 更改为 workStep= 20

// 在准备吸样，然后滴样的时候，发出当前吸样针探测电机的AD值

// 2016-11-24
// 增加机械自检和液路自检的步骤说明
// 增加大量const 类型的 string 在string.c文件

// 2016-11-29 
// 将稀释比例小于100的，全部清洗3次内壁
// cardStoreProcess.c 文件中case 39后缺少break ,添加break

// 2016-11-29 条码识别决定暂时搁浅  #3016命令暂时屏蔽

// 2016-11-30 _DropMode == 1 的1:1模式，不需要抽打混匀，直接滴样

// 2016-12-06 
// 荧光滴样的时候,进片推车到达0位之后,继续反走25步,保证滴样位置正中

// 2016-12-07
// 将1:1稀释模式下的吸样量加大,其值与1:500稀释一致

// 2016-12-09
// 将超时加大至3s
// 将TESTA和TESTB的读数延迟更改为10s,下片时间从+15 更改为 + 10			// 验证不行
// 将TESTA和TESTB的读数延迟更改为10s,下片时间从+15 更改为 + 25			// 验证一开始不行,后面居然就OK了
// 将TESTA和TESTB的读数延迟更改为10s,下片时间从+25 更改为 + 35			// 验证显示OK(无试剂片),有试剂片不行

// 2016-12-20
// 增加一个命令，可以直接进入测试，不需要经过机械自检和液路自检

// 2016-12-22
// 将卸片动作完成之后的延时由500ms更为1000ms
// 将DiluentCoff更改为DiluentCoff[num] ,num为对应的稀释倍数
// 将FLOW_CAL_CHART中的元素calStand更改为calStand[num] ,num为对应的稀释倍数
// 将Save_DiluentCalChart(void)更改为Save_DiluentCalChart(unsigned int m),同时更改函数
// 将CalculateCalStandCoeff(ControlCmd.pam[0])更改为CalculateCalStandCoeff(ControlCmd.pam[0],ControlCmd.pam[1]),同时更改函数
// 将uart_Printf("%s $%4d $%4d\r\n", strM4117, iTmp0,iTmp1)更改为uart_Printf("%s $%4d $%4d $%4d\r\n", strM4117, ControlCmd.pam[0],iTmp0,iTmp1);
// 如此更改导致3017和4015命令必须带2个参数,第一个是稀释倍数,第二个是校准因子,能够单独调整每一个稀释的吸样量

// 在准备进片的时候增加一个延时
// 将试剂片进片回来检测if(ucTmp == oldGetCardState)	更改为 if(ucTmp == 4 && oldGetCardState == 4)
	
// 2016-12-25
// 修复3017和4015命令BUG    
// 将稀释比例为0的调节优化   稀释比例为0,保存设置为稀释比例为9,不执行保存动作

// 2016-12-27
// 3060和3061 加上限制条件,保证3061和3060命令同一时间只有一个命令有效,同时发出Busy信息
// 将废液定标过程中的废液排量由7个单位调整至10个单位

// 2016-12-28
// 更改1:4稀释的吸样量和稀释液量,将吸样量调整为66.7ul,稀释液量为200ul
// 增加普通清洗和强力清洗模式下,清洗液不足的处理
// 清洗模式下清洗液空,不发送!2953命令,更改为!3905命令
// 增加3169和3170命令,反馈清洗失败

// 2016-12-29
// 修复断电之后除了1:500,其他稀释不吸样BUG 
// 屏蔽废液定标2521错误,就算出现此错误也继续做定标

// 2017-01-03
// 输出取片成功和失败的电平
// 取片失败3540之后增加break
// 将if(ucTmp == oldGetCardState) 更改为 if(ucTmp == 0 && oldGetCardState == 0)
// 将if(ucTmp != oldGetCardState) 更改为 if(ucTmp == 4 && oldGetCardState == 0)
// 取片成功之后,上报3105命令

// 2017-01-04
// 连续3次没有找到转盘位置,增加判断if(CurInsertRingNum >= RING_QUEUE_NUM)	CurInsertRingNum -= RING_QUEUE_NUM;

// 2017-01-05
// 每次取片之前,勾片回到零位之后,再向零位方向走25步
// 进片推车回来之后,多执行几次进片电机回零位之后转盘才能旋转
// 增加*3918和*3919/*3920显示信息

// 2017-01-06
// 老化取片测试  
// 按键之后,1-5号片仓轮流取片,每个片仓取片25次,只要出现一次取片异常,停止,并重零开始
// 3030缺少break

// 2017-01-10
// 稀释比例1:1模式下,变量_MixtureMode为1的情况下,带小杯子的试剂片直接滴样
// 稀释比例1:1模式下,变量_MixtureMode为0的情况下,小杯子内抽打混匀流程
// _POS_CARDLOAD_MIX更由131更改为135
// 增加2118命令
// 设置稀释比例的时候,如果发现稀释比例不为1,将_MixtureMode清零
// 如果稀释比例设置为0,将稀释比例调整为1
// 废片仓开启时间计算,如果开启时间超过20分钟,无法正常测试

// 2017-01-19
// 3333命令下如果为穿刺也不执行穿刺动作
// 穿刺压力传感器移动至PA6,穿刺终点传感器移动至PA7
// 添加3023命令,$0使用废片盒,$1为多排模式,屏蔽废片仓所有功能
// 增加 #define Uart0ReEnable		 	(UCSR0B |= (1 << 4))
// 增加 #define Uart0ReUnable			(UCSR0B &= ~(1 << 4))
// 串口0所有外发命令放入缓存前关闭接收,放入缓存完毕后打开接收,避免冲突

// 2017-01-22
// 将穿刺压力传感器调整为AD采集
// 以压力传感器AD值的变化量作为参考

// 2017-01-23
// 增加测试模式下#3命令结果为Busy模式下的显示
// 增加void printf_DiluteProcess_StepState(void)显示当前稀释流程
// 增加void printf_CardstoreProcess_StepState(void)显示当前取片流程
// 增加void printf_TestProcess_StepState(void)显示当前测试流程
// 增加void printf_UnloadProcess_StepState(void)显示当前卸片流程

// 2017-01-24
// 发现BUG   更改void _SetNewCardGet(unsigned char num)函数 
// if(GetNewTestCard != 254)	更改为 if(GetNewTestCard != 254 || GetNewTestCard != 222)	
// 增加 uart_Printf("*3222 GetNewTestCard $%4d\r\n",GetNewTestCard)
// _POS_CARDLOAD_MIX 的值由135更改为141
// 将3017和4015的上限值由150调整至250

// 2017-01-25
// 将穿刺压力传感器调整为电平采集  即 删除2017-01-22的变更

// 2017-02-04
// 降低清洗吸样针内壁过程中,清洗液注入速度      // 经测试,速度降低之后气泡仍然存在
// 增加穿刺模式下,速度不变,二次混匀清洗内壁时,将吸样针降低至bottom 		// 经测试,气泡可以去掉
// MotRunTo(MOT_SAMP_NEEDLE, _POS_MIX_TOP + 200)部分增加穿刺和非穿刺的区别
// 增加穿刺老化模式下,第一次按键吸样针下来,第二次按键,吸取样本
// 将按键按下返回信息3101更改为3200避免每次按下之后上位机发送3051命令
// 增加3119不穿刺返回信息,将3333$1老化不穿刺更改为3024$1不穿刺
// 增加不穿刺变量WithoutPuncture,默认为0 = 穿刺 , 1 = 不穿刺
// 增加3021命令输入,如果此命令输入,自动关闭老化测试  即 CardNoneUseful = 0 
// 增加3021命令输入,如果此命令输入,则自动开启自动测试  即 _AutoTestCycleNum = 124,同时将_AutoTestCycleNum更改为非静态变量
// 增加3021命令输入,如果此命令输入,如果为穿刺则自动屏蔽穿刺功能,完成之后自动恢复
// 增加3021命令输入,如果此命令输入,则将稀释比例自动设置成1:1，方便取片测试，完成之后，将稀释比例恢复至1:500
// 增加变量LastCardGetState,根据此状态来切换下一次取片的片仓号
// 屏蔽3922的错误命令,因为穿刺过程如果采用1:1模式,必定会进入3922命令

// 2017-02-06
// 恢复02-05软件中删除的9月18日的更改
// 删除二次混匀吸样针下降bottom清洗内壁,同时降低废液排放速度
// 二次混匀清洗吸样针内壁完成之后，再清洗一次混匀池  =======未增加,是否考虑增加
// 增加稀释函数中,case 22后面增加case 23,在完成case 22之后,才让状态指示灯变为绿色
// 将穿刺高度调节4004的值,上限值从100调整至200
// 优化进片和下片光耦损坏检测
// 3121信息增加稀释比例

// 2017-02-10
// 在2017-02-08 穿刺橙黄G通过的版本上更改
// 增加每次测试,转盘先转至零位

// 2017-02-13
// 将进片和卸片的步数更改  1168 更改为  1600         812 更改为 1600

// 2017-02-17
// 取片失败之后,重新开始,在添加ReStartCardGetTest 函数中添加_AutoTestCycleNum = 124
// 3017优化BUG  当输入的稀释比例大于14也会有回复,这是错误的
// 屏蔽老化模式下TestALampClose()和TestBLampClose()
// 增加3021取片模式下,输入3333命令无效

// 2017-02-20
// 删除1:2模式下的稀释液泵吸样
// 做1次稀释的时候,多走100步
// 做1次稀释的时候,多走200步
// 1次稀释完毕后,等待2秒

// 2017-02-21
// 二次稀释前,吸样针先上升至零位,在进行二次混匀   ――――防止针头挂液滴落
// 将3024的穿刺更改为3个值 0  穿刺  1  不穿刺橙黄G   2 不穿刺老化和取片测试

// 2017-02-23
// 修复3017和4015设置为0 和 大于13显示问题
// 4004 GetDropHeight 修改范围
// case 3333中,将if(0 != CardStoreTestFlag)		return;  中的return更改为brak

// 2017-02-24
// 3024$1模式下吸样针下降高度变为原来的一半
// 将穿刺模式下_POS_SAMP_DOWN  值 由 3920 更改为 3800

// 2017-02-25
// 穿刺模式下一次稀释反抽400ul,然后在清洗完内壁之后,先排100ul,再打出二次稀释

// 2017-02-28 尝试排出清洗液对稀释的影响
// 二次混匀前倒吸500,并在二次稀释清洗完毕后排掉300
// 吸样前的空气段由 82 更为 200 ,吸样量中 +210 更改为 +400
// 降低滴样的速度,延长排出的300ul混匀液的等待时间

// 2017-03-03
// 修复3021在取片卡片情况下的BUG  停止之后,点击恢复要将stopFlag标识请0
// 生效版本1.0.0.4

// 2017-04-01
// 修改穿刺模式下电极模式处理方式

// 2017-04-13
// 将穿刺速度从60 -> 180, 修改可以使用,不知道是否会对寿命和其他造成影响

// 2017-04-19
// 将穿刺模式下的一些返回命令延后发送

// 2017-04-20
// 2907 命令反馈更改为 3902
// 2910 命令反馈更改为 3904

// ☆ 是否要增加吸样前判读有无液体？？？？？

// 2017-04-25
// 屏蔽压力和压力到位传感器
// 增加吸样前的电极显示,以后可以用来判别白片产生的原因

// 将3060和3061灌注失败的返回信息更改为3902->3911和3904->3912

// 2017-04-26
// 将_PrimingFluid中的灌注失败信息移动至外面发送
// 将_PrimingDilute中灌注失败信息一定值外面发送
// 将3902和3904 带参数的返回信息中的参数删除

// 2017-04-27
// 测试模式退出将状态灯变红

// 2017-04-28
// 将EEP_ADD_的地址做相应更改  _FLOW_CAL_CHART 结构体所在内存为2*5+2+2+2*14 = 42――――――――――――不修改
// InsetrDiluentFlowCalValue(m)函数 解析 ――――――――――――――――――――――未完成

// 2017-05-02
// 强力清洗,吸样针先下来（无论穿刺和非穿刺）
// 增加测试模式下,非测试将指示灯设置为红
// 3060 增加LED状态切换
// 3061 增加LED状态切换
// 测试状态下#5$0,#5$1增加LED状态切换
// 3055 清洗模式,增加LED状态切换
// #4 增加LED状态切换
// 增加测试状态下的液路自检  命令 3322 同时增加LED状态切换
// 增加测试模式下,液路自检完成之前让吸样针回到吸样位置,同时增加穿刺模式下,吸样针在上
// 增加直接进入测试状态命令 #2$9  同时根据是否穿刺,判断吸样针是否需要下来
// 清洗模式下,增加判断,如果当前清洗模式不为0,则无法修改清洗模式
// 增加休眠模式下退出,直接进入液路自检

// 2017-05-03 
// 增加穿刺吸样针探测液面的步数计算,与最底部的差值小于120,当做未探测到液面处理
// 屏蔽进入老化的3101信息反馈

// 2017-05-04
// 液路自检中增加升降臂电机步数显示,仅作测试用,后续删除

// 2017-05-05
// 删除液路自检中的电机步数显示
// 将1:500模式的吸样量更改为20ul
// #2$9进入测试模式,需要读取			
// NeedleOnMixCenterPos = GetNeedleOnMixCenterPos();
// NeedleOnMixSidePos = GetNeedleOnMixSidePos();
// DropHeight = GetDropHeight();

// 2017-05-08
// 增加滴样量调节因子3107,当滴样量不足或偏高根据此调节滴样量

// 2017-05-09
// 生效版本1.0.0.5
// 清洗液灌注  400 -> 200   i > 300 -> i > 150  屏蔽if(CheckLiqDetBase())部分
// 稀释液灌注  400 -> 200   i > 300 -> i > 150  屏蔽if(CheckLiqDetBase())部分

// 2017-05-12
// 3322完成之后,要将JumpMode 清0 ,保证休眠模式下3322命令之后,再按吸样键不会再次进行液路自检

// 2017-05-16
// 3927 和 3928 发送命令信息时,吸样针还未回零位,调整信息发出的位置至吸样针到最零位

// 2017-05-19
// 3322完成之后,去判断JumpMode的值,如果JumpMode == 2 ,JumpMode = 3
// 休眠模式3322完成之后,在mainStep= 0,workStep = 1的语句中,增加判断,如果JumpMode = 3,直接跳转到mainStep = 1 workStep = 0
// 3322命令完成之后,增加一步清洗液冲洗吸样针内壁的操作,避免测试模式液路自检完成之后的吸样量和吐样量不足的情况

// 2017-05-22
// 休眠模式下的3060和3061完成之后,指示灯状态为红
// 增加重测命令,位置错误3054第一次回零到位置,第二次直接回转120
// 增加测试模式下的液路自检,失败后吸样针回到吸样位置

// 优化测试时间

// 2016-05-23
// 继续优化测试时间
// 增加休眠模式下,查询当前状态反馈信息为 [Sleep] 

// 2017-05-24 
// 修改测试下的3054流程
// 修改测试模式下的3322失败,吸样针未回到吸样位
// 修改3107滴样量因子系数范围,将滴样量调整至±10ul
// 将滴样高度SetDropHeight 更改为 void SetDropHeightFactor类型无返回
// 将SetNeedleOnMixPos更改为void SetNeedleOnMixPosFactor
// 在机械自检和液路自检和测试中增加#1可以获取软件版本信息

// 2017-05-25
// 在小车抬起的时候,增加延时

// 2017-05-26 
// 将小车抬起延时提前
